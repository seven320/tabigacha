<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <!-- css link -->
    <link rel="stylesheet" href="css/stylesheet.css">
    <title>Tabi gacha</title>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript" src="./jmap.js"></script>
    <script type = "text/javascript">
        var prefecture_id = 0

        function loadmap(){
            $(document).ready(function() {
            $('#jmap').jmap({
                width: "600px",
                height: "450px",
                prefectureBackgroundColor: 'gray',  
            areas: [
                {code: prefecture_id, color: "black"
            }
            ]
            });
        });
        }
        loadmap();
    </script>
</head>
<body>
    <div id="jmap" class= "map"></div>

    <button type="button" id = "gacha">ガチャする</button>
</body>

    <script>
        function getRandomint(max){
            return Math.floor(Math.random() * max)
        }

        function showrandomloadmap(){
            prefecture_id = getRandomint(47)+1
            console.log(prefecture_id)
            loadmap()
        }

        function buttonClick(){
            setInterval(function(){showrandomloadmap();}, 100)
        }
        
        var button = document.getElementById("gacha")
        button.onclick = buttonClick;
    </script>
</html>